<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CodeClash{% endblock %}</title>
    <link rel="stylesheet"  type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="icon" type="image/svg" href="{{ url_for('static', filename='images/clash.svg') }}">
    {% block head_extra %}{% endblock %}
</head>
<body>
    {% include "_topnav.html" %}

    <div class="container">
        {% block content %}
        <!-- Page-specific content will be injected here -->
        {% endblock %}
    </div>

    <!-- Lightbox for images -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close">&times;</span>
        <img id="lightbox-img" src="" alt="">
    </div>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>
        // Image lightbox functionality
        document.addEventListener('DOMContentLoaded', function() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const closeBtn = document.querySelector('.lightbox-close');
            
            // Add click handler to all img-insight images
            document.querySelectorAll('.img-insight').forEach(img => {
                img.addEventListener('click', function() {
                    lightbox.classList.add('active');
                    lightboxImg.src = this.src;
                    lightboxImg.alt = this.alt;
                });
            });
            
            // Close lightbox when clicking close button
            closeBtn.addEventListener('click', function() {
                lightbox.classList.remove('active');
            });
            
            // Close lightbox when clicking outside the image
            lightbox.addEventListener('click', function(e) {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                }
            });
            
            // Close lightbox with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                    lightbox.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>